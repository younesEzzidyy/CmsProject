!function(o){function e(a,i){var t=a.find(".pa-woo-mc__outer-container").data("settings");if(t){elementorFrontend.isEditMode()&&i(document.body).trigger("wc_fragment_refresh"),i("html").addClass("msection-html");var e,n=i("body .premium-magic-section-body-inner"),c=t.trigger,r=!0,m=t.type,p=a.data("id"),s=t.style;i(".premium-magic-section-body-inner").length<1&&i("body").wrapInner('<div class="premium-magic-section-body-inner" />'),i(".premium-magic-section-body-inner > .pa-woo-mc__overlay-"+p).remove(),i(".premium-magic-section-body-inner").prepend(a.find(".pa-woo-mc__overlay")),a.find(".pa-woo-mc__inner-container").off("click.paToggleMiniCart mouseenter.paToggleMiniCart mouseleave.paToggleMiniCart"),function(o){o=o||500;i("body").addClass("animating"),n.css("transform","none"),i("html").css("height","auto"),setTimeout(function(){i("html").removeClass("offcanvas-open"),i("body").removeClass("animating")},o)}(10),function(){"click"===c?a.find(".pa-woo-mc__inner-container").on("click.paToggleMiniCart",o):(a.find(".pa-woo-mc__inner-container").on("mouseenter.paToggleMiniCart",o),a.on("mouseleave.paToggleMiniCart",function(o){e=setTimeout(function(){a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("pa-woo-mc__open")},300)}));t.clickOutside&&i("body").on("click",function(o){i(o.target).is(i(".premium-tabs-nav-list-item, .pa-woo-mc__content-wrapper, .pa-woo-mc__content-wrapper *, .pa-woo-mc__inner-container, .pa-woo-mc__inner-container *"))||("menu"===m?a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("pa-woo-mc__open"):r||a.find(".pa-woo-mc__close-button").trigger("click"))});a.find(".pa-woo-mc__close-button").on("click",function(){i(".pa-woo-mc__overlay-"+p).addClass("premium-addons__v-hidden"),a.find(".pa-woo-mc__content-wrapper-"+p).addClass("pa-woo-mc__anim-"+s),setTimeout(function(){r=!0,a.find(".pa-woo-mc__content-wrapper-"+p).css("display","none")},500)})}(),_(),d(),i(document.body).on("wc_fragments_refreshed",function(){_(),d()})}function o(o){"hover"===c?(o.stopPropagation(),clearTimeout(e),a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("premium-addons__v-hidden").addClass("pa-woo-mc__open")):"menu"===m?a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("premium-addons__v-hidden").toggleClass("pa-woo-mc__open"):r&&(a.find(".pa-woo-mc__content-wrapper-"+p).css("display","flex"),i("html").css({height:"100%"}),i("html").addClass("offcanvas-open"),i(".pa-woo-mc__overlay-"+p).removeClass("premium-addons__v-hidden"),a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("premium-addons__v-hidden"),a.find(".pa-woo-mc__content-wrapper-"+p).removeClass("pa-woo-mc__anim-"+s),setTimeout(function(){r=!1},550))}function d(){var o=a.find(".pa-woo-mc__cart-footer").data("pa-footer-txt");if(o&&o.includes("{{count}}")){var e=a.find(".pa-woo-mc__cart-footer .pa-woo-mc__cart-count").text(),n=o.replace("{{count}}",'<span class="pa-woo-mc__cart-count">'+e+"</span>");a.find(".pa-woo-mc__cart-footer .pa-woo-mc__subtotal-heading").html(n)}t.removeTxt&&a.find(".pa-woo-mc__remove-item span").text(t.removeTxt)}function _(){i(".pa-woo-mc__qty-btn").on("click",function(o){o.stopPropagation();var e=i(this).parent().find(".pa-woo-mc__input")[0],n=parseInt(i(e).attr("max")),t=parseInt(i(e).val());i(this).hasClass("plus")?n<=t?i(this).parents(".pa-woo-mc__item-wrapper").find(".pa-woo-mc__item-notice").text("*The current stock is only "+n):(e.stepUp(),i(e).trigger("change")):(e.stepDown(),i(e).trigger("change"))}),a.find(".pa-woo-mc__input").on("change",function(){var o=i(this).attr("name").replace("cart-",""),e=i(this).val();"1"===e?i(this).siblings(".pa-woo-mc__qty-btn.minus").addClass("disabled"):i(this).siblings(".pa-woo-mc__qty-btn.minus").removeClass("disabled"),l("pa_update_mc_qty",o,e)}),a.find(".pa-woo-mc__remove-item").on("click.paRemoveCartItem",function(o){o.stopPropagation(),l("pa_delete_cart_item",i(this).data("pa-item-key").replace("cart-",""),!1)}),a.find(".pa-woo-mc__input").on("click",function(o){o.stopPropagation()})}function l(o,e,n){var t={action:o,itemKey:e,nonce:PremiumWooSettings.mini_cart_nonce};n&&(t.quantity=n),i.ajax({url:PremiumWooSettings.ajaxurl,dataType:"JSON",type:"POST",data:t,beforeSend:function(){a.find(".pa-woo-mc__widget-shopping-outer-wrapper").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>')},success:function(o){i(document.body).trigger("wc_fragment_refresh")},error:function(o){console.log(o)},complete:function(o){a.find(".premium-loading-feed").remove()}})}}o(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-mini-cart.default",e)})}(jQuery);