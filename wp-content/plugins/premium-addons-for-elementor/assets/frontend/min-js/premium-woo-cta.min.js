!function(t){function a(t,n){var r=t.find(".premium-wrapper-woo-cta"),o=r.find(".premium-woo-cta-button"),a=r.find(".product-quantity"),s=r.find(".grouped_product_qty"),e=r.find(".quantity-button.minus"),i=r.find(".quantity-button.plus"),d=o.data("redirect-to-cart"),u=r.data("pa-mc-id");e.on("click",function(){var t=parseInt(a.val());!isNaN(t)&&1<t&&a.val(t-1)}),i.on("click",function(){var t=parseInt(a.val());isNaN(t)||a.val(t+1)});var c=r.find(".quantity-button.g-plus"),m=r.find(".quantity-button.g-minus");c.each(function(){n(this).on("click",function(){var t=n(this).closest(".quantity-grouped-wrapper").find(".grouped_product_qty"),a=parseInt(t.val());isNaN(a)||t.val(a+1)})}),m.each(function(){n(this).on("click",function(){var t=n(this).closest(".quantity-grouped-wrapper").find(".grouped_product_qty"),a=parseInt(t.val());!isNaN(a)&&1<a&&t.val(a-1)})});var l=o.find(".premium-woo-btn-text"),p=o.attr("data-wishlist-remove-text"),_=o.attr("data-wishlist-button-text"),f=o.attr("data-compare-remove-text"),v=o.attr("data-compare-button-text"),h=o.attr("data-product-type");if("yes"===o.attr("data-icon-visible")){var g=o.find(".premium-woo-btn-icon");o.find(".premium-woo-btn-text").text().trim()===p?g.hide():(g.show(),o.remove(".premium-woo-icon-hidden"))}"external"!==h?o.on("click",function(t){t.preventDefault();var a,e=n(this).attr("data-product-id"),i=n(this).siblings(".premium-woo-cta__spinner");switch(wishlist_message=n(this).attr("data-product-added"),quantity=r.find(".product-quantity").val(),attributes={},quantities={},i.addClass("loader-visible").append('<div class="premium-loading-feed"><div class="premium-loader"></div></div>'),$messageBox=r.find(".premium-cta-message-box"),$messageBox.remove(),s.each(function(){var t=n(this).attr("name").match(/\d+/)[0];quantity=parseInt(n(this).val(),10),0<quantity&&!isNaN(quantity)&&(quantities[t]=quantity)}),r.find(".product-attribute").each(function(){var t=n(this).data("attribute_name");attrValue=n(this).val(),attrValue&&(attributes[t]=attrValue)}),n(this).attr("data-actions")){case"add_to_wishlist":a="custom_add_to_wishlist";break;case"add_to_compare":a="custom_add_to_compare";break;default:a="custom_add_to_cart"}n.ajax({url:PremiumWooSettings.ajaxurl,dataType:"JSON",type:"POST",data:{action:"handle_pa_woo_cta_actions",ajaxAction:a,product_id:e,quantity:quantity,grouped_product_qty:quantities,attributes:attributes,security:PremiumWooSettings.cta_nonce},success:function(t){t.success?(i.removeClass("loader-visible").find(".premium-loading-feed").remove(),"custom_add_to_wishlist"===a?!0===t.data.in_wishlist?(l.text(p),g.hide(),o.after('<div class="pro-wish">'+wishlist_message+"</div>")):(l.text(_),g.show(),$add_message=o.siblings(".pro-wish"),$add_message.remove()):"custom_add_to_compare"===a?!0===t.data.in_compare?l.text(f):l.text(v):"yes"===d?window.location.href=t.data.cart_url:(o.siblings(".view-cart-button").remove(),o.after('<a href="'+t.data.cart_url+'" target="_blank" class="view-cart-button" style="margin-left: 10px;">'+PremiumWooSettings.view_cart+"</a>")),u&&(n(u+".elementor-widget-premium-mini-cart").find(".pa-woo-mc__inner-container").trigger("click.paToggleMiniCart"),n(document.body).trigger("wc_fragment_refresh"))):(i.removeClass("loader-visible").find(".premium-loading-feed").remove(),t.data.qty_message&&r.append('<div class="premium-cta-message-box">'+t.data.qty_message+"</div>"))}})}):o.on("click",function(t){var a=o.attr("data-external-url");a&&(t.preventDefault(),window.location.href=a)})}t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/premium-woo-cta.default",a)})}(jQuery);