window.seraph_accel||(window.seraph_accel={});
(function(){seraph_accel.PluginAdmin={AdvertProductsContentInit:function(a,c,b,e,k,l){function h(f,m){var g="";if(Array.isArray(f)&&f.length){g+=seraph_accel.Ui.TagOpen("tr");for(var d=0;d<f.length;d++){var n=f[d];0<d&&0==d%k&&(g+=seraph_accel.Ui.TagClose("tr")+seraph_accel.Ui.TagOpen("tr"));var x=seraph_accel.Ui,C=x.Tag,y=seraph_accel.Ui,D=y.Tag,z=m,r="";var q=n.images;var u=z;if(Array.isArray(q)){for(var v=-1,A=2147483647,w=-1,B=2147483647,t=0;t<q.length;t++){var p=q[t];if(u==p.width){v=t;break}u<
p.width?(p=p.width-u,p<A&&(v=t,A=p)):(p=u-p.width,p<B&&(w=t,B=p))}q=-1!=v?q[v].url:-1!=w?q[w].url:null}else q=null;q&&(r+=seraph_accel.Ui.Tag("td",seraph_accel.Ui.Link(seraph_accel.Ui.Tag("img",null,{"class":"ctlSpaceAfter",width:z,src:q},!0),n.urlInfo,!0),{style:{width:"1px"}}));r+=seraph_accel.Ui.TagOpen("td");r+=seraph_accel.Ui.Tag("h3",n.title,{"class":"ctlSpaceVAfter",style:{"margin-top":0}});r+=seraph_accel.Ui.Tag("div",n.descr);n.urlInfo&&(r+=seraph_accel.Ui.Button(e,!0,null,"ctlSpaceVBefore",
"button",{onclick:"window.open( '"+n.urlInfo+"', '_blank' )"}));r+=seraph_accel.Ui.TagClose("td");n=seraph_accel.Ui.Tag("table",seraph_accel.Ui.Tag("tbody",seraph_accel.Ui.Tag("row",r)));g+=C.call(x,"td",D.call(y,"div",n,{style:{margin:"1em 1em 2em 1em"}}),{"class":"cx-lg-6 cx-xs-12",style:{"vertical-align":"top"}})}for(;d%k;d++)g+=seraph_accel.Ui.Tag("td",null,{"class":"cx-lg-6 cx-xs-12"});g+=seraph_accel.Ui.TagClose("tr");g=seraph_accel.Ui.Tag("table",seraph_accel.Ui.Tag("tbody",g))}jQuery(a).html(g)}
jQuery.ajax({url:seraph_accel.Net.UpdateQueryArgs(c+"/v1/advert_products",{slug:"accelerator",locale:b}),type:"GET",dataType:"json"}).then(function(f){h(f,l)},function(f){h(null,0)})},SwitchTo:function(a,c,b,e,k,l,h){function f(d,n){d?m.find(".operateblock").hide():m.find(".operateblock").find("*").prop("disabled",!1);g.removeClass("notice-warning updating-message");g.addClass(d?"notice-success updated-message":"notice-error");g.find("p").text(n);d&&m.find(".refresh_after").prop("checked")&&setTimeout(function(){location.reload()},
0)}var m=jQuery(".seraph_accel_switchto"),g=m.find(".update-message");g.removeClass("notice-success notice-error updated-message");g.addClass("notice-warning updating-message");g.find("p").text(c);m.find(".operateblock").find("*").prop("disabled",!0);g.show();jQuery.ajax({url:e,type:"POST",data:""}).then(function(d){return jQuery.ajax({url:k,type:"POST",data:{action:"update-plugin",plugin:l,slug:"seraphinite-accelerator",_ajax_nonce:h,seraph_accel_switchto:a},dataType:"json"})}).then(function(d){d.success?
f(!0,b):f(!1,d.data.errorMessage)},function(d){f(!1,"OK"===d.statusText?"PHP error: "+d.responseText:"Backend error: "+d.status+" "+d.statusText)})},RateItCont_Set:function(a,c,b){var e=jQuery("#"+a),k=e.find(".actions"),l=e.find(".seraph_accel_spinner");k.hide();l.show();jQuery.ajax({url:b+"="+(c?"rateItPostpone":"rateItDisable"),type:"POST",data:""}).then(function(h){e.hide()},function(h){k.show();l.hide()})},RateIt_Set:function(a,c){jQuery("#seraph_accel_RateIt_Message .actions").hide();jQuery("#seraph_accel_RateIt_Message .seraph_accel_spinner").show();
jQuery.ajax({url:c+"="+(a?"rateItPostpone":"rateItDisable"),type:"POST",data:""}).then(function(b){seraph_accel.Ui.BannerMsgClose(jQuery("#seraph_accel_RateIt_Message"))},function(b){jQuery("#seraph_accel_RateIt_Message .actions").show();jQuery("#seraph_accel_RateIt_Message .spinner").hide()})},ChangeVersion_Confirm:function(a){jQuery("#seraph_accel_ChangeVersion_Msg .actions").hide();jQuery("#seraph_accel_ChangeVersion_Msg .seraph_accel_spinner").show();jQuery.ajax({url:a+"=changeVersionConfirm",
type:"POST",data:""}).then(function(c){seraph_accel.Ui.BannerMsgClose(jQuery("#seraph_accel_ChangeVersion_Msg"))},function(c){jQuery("#seraph_accel_ChangeVersion_Msg .actions").show();jQuery("#seraph_accel_ChangeVersion_Msg .spinner").hide()})},SettImport:function(a,c,b,e){function k(){h.prop("disabled",!1);l.hide()}if(b){a=jQuery(a.parentNode);var l=a.find(".seraph_accel_spinner"),h=a.find("input.button");h.prop("disabled",!0);l.show();a=new FileReader;a.onabort=function(f){k()};a.onerror=function(f){k()};
a.onload=function(f){jQuery.ajax({url:c+"=settImport&_wpnonce="+e+"&redir="+encodeURIComponent(location.href),type:"POST",contentType:"application/json",data:f.target.result}).then(function(m){m?location=m:location.reload()},function(m){k()})};a.readAsText(b)}},SettExport:function(a,c,b){function e(h){h&&window.saveAs(new Blob([h],{type:"text/json"}),"seraphinite-accelerator-settings.json");l.prop("disabled",!1);k.hide()}a=jQuery(a.parentNode);var k=a.find(".seraph_accel_spinner"),l=a.find("input.button");
l.prop("disabled",!0);k.show();jQuery.ajax({url:c+"=settExport&_wpnonce="+b,type:"POST",data:""}).then(function(h){seraph_accel.Ui.ScriptLoad(document,"https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js","file-saver").then(function(){e(h)},function(f){e()})},function(h){e()})},OnSettWizNext:function(a,c){var b=jQuery(a).closest("form");a=jQuery(a.parentNode);var e=b.find(".wizPages");b=e.find(">.active").first();b.get(0)?(c=c?b.next():b.prev(),c.get(0)&&(b.removeClass("active"),b=
c)):b=e.children().first();b.addClass("active");c=!!b.next().get(0);b=!!b.prev().get(0);a.find("input.wizNext").prop("disabled",!c);a.find("input.wizPrev").prop("disabled",!b);c?a.find("input.wizFinish").hide():a.find("input.wizFinish").show()}}})();
